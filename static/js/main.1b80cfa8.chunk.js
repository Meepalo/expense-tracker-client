(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{187:function(t,e,n){},192:function(t,e){},194:function(t,e){},208:function(t,e){},210:function(t,e){},238:function(t,e){},240:function(t,e){},241:function(t,e){},246:function(t,e){},248:function(t,e){},254:function(t,e){},256:function(t,e){},275:function(t,e){},287:function(t,e){},290:function(t,e){},357:function(t,e,n){"use strict";n.r(e);var c,a=n(1),r=n.n(a),o=n(55),i=n.n(o),s=(n(187),n(17)),b=n.n(s),u=n(24),l=n(9),p=n(10),d=n(176),j=n.n(d),O=n(7),h=n(13),x=n(12),m=n(177),f=n(49),g=n(32),v=n(3);var y,w,k,S,C,D,I,N,z,A,E,F,L,T,J,B,M,P,K,_,Y,q,R,U,X,G,H,Q,V,W,Z,$,tt,et=Object(h.a)(c||(c=Object(O.a)(["\n\tbackground: var(--col-accent);\n\tfont-weight: 800;\n\tcolor: #fff;\n\tpadding: 0.5em 1.5em;\n\tborder-radius: 5px;\n\tcursor: pointer;\n"]))),nt=Object(f.a)("button",{target:"elv1m292"})(et,";"),ct=Object(f.a)(nt,{target:"elv1m291"})({name:"1xojzan",styles:"background:var(--col-primary);color:var(--col-text)"}),at=function(t){var e=t.value;return Object(v.b)("input",{type:"submit",value:e,css:et})},rt=Object(f.a)(g.b,{target:"elv1m290"})({name:"1j21bfh",styles:"text-decoration:none;font-weight:900;display:flex;align-items:center"}),ot=x.a.div(y||(y=Object(O.a)(["\n\tmargin: 20px 0;\n\n\tlabel {\n\t\tdisplay: block;\n\t\tfont-weight: 800;\n\t\tfont-size: 0.9rem;\n\t\tmargin-bottom: 4px;\n\t}\n"]))),it="".concat("https://meepalo-expense-tracker.herokuapp.com","/api/expenses"),st=Object(h.b)(k||(k=Object(O.a)(["\n\tfrom {\n\t\topacity: 0;\n\t}\n\tto {\n\t\topacity: 1;\n\t}\n"]))),bt=x.a.div(S||(S=Object(O.a)(["\n\tposition: fixed;\n\tdisplay: grid;\n\tplace-items: center;\n\tbackground: rgba(0, 0, 0, 0.4);\n\tbackdrop-filter: blur(20px);\n\twidth: 100vw;\n\theight: 100vh;\n\ttop: 0;\n\tleft: 0;\n\tz-index: var(--popup-z-index);\n\tanimation-duration: 0.3s;\n\tanimation-timing-function: ease;\n"]))),ut=x.a.div(C||(C=Object(O.a)(["\n\tposition: absolute;\n\tpadding: 40px;\n\tborder-radius: 30px;\n\tbackground: var(--col-primary);\n\n\t.dialog-content {\n\t\tmargin: 40px 0px 0 0;\n\t}\n\n\t.form-main {\n\t\tpadding-right: 260px;\n\t}\n"]))),lt=x.a.div(D||(D=Object(O.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tcolumn-gap: 20px;\n\tmargin-top: 60px;\n"]))),pt=Object(x.a)(m.a)(I||(I=Object(O.a)(["\n\tposition: absolute;\n\tright: 20px;\n\ttop: 20px;\n\twidth: 24px;\n\theight: 24px;\n\tcursor: pointer;\n"]))),dt=function(t){var e=t.visible,n=t.onDismiss,c=Object(a.useState)(Date.now()),r=Object(l.a)(c,2),o=r[0],i=r[1],s=Object(a.useState)(0),p=Object(l.a)(s,2),d=p[0],j=p[1],x=Object(a.useState)(""),m=Object(l.a)(x,2),f=m[0],g=m[1],y=Object(a.useState)(!1),k=Object(l.a)(y,2),S=k[0],C=k[1],D=Object(a.useState)(!1),I=Object(l.a)(D,2),N=(I[0],I[1]);Object(a.useEffect)((function(){e?C(!0):N(!0)}),[e]);var z=function(){var t=Object(u.a)(b.a.mark((function t(){var e,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(d<=0)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,fetch(it,{method:"POST",headers:{"x-access-token":localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify({expense:{date:o,amount:d,description:f}})});case 4:return e=t.sent,t.next=7,e.json();case 7:"error"==(c=t.sent).status&&console.log("Error: "+c.error),n();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e?Object(v.b)(bt,{css:Object(h.a)(w||(w=Object(O.a)(["\n\t\t\t\tanimation-name: ",";\n\t\t\t"])),S?st:""),children:Object(v.c)(ut,{children:[Object(v.b)(pt,{onClick:function(){return n()}}),Object(v.b)("h1",{children:"Add new expense"}),Object(v.b)("div",{className:"dialog-content",children:Object(v.c)("form",{onSubmit:function(t){t.preventDefault(),z()},children:[Object(v.c)("div",{className:"form-main",children:[Object(v.c)(ot,{children:[Object(v.b)("label",{htmlFor:"expenseDate",children:"Date"}),Object(v.b)("input",{type:"date",name:"expenseDate",value:o,placeholder:"Today",onChange:function(t){return i(t.target.value)}})]}),Object(v.c)(ot,{children:[Object(v.b)("label",{htmlFor:"expenseAmount",children:"Amount"}),Object(v.b)("input",{type:"number",name:"expenseAmount",min:0,value:d,onChange:function(t){t.target.value>=0?j(t.target.value):j(0)}})]}),Object(v.c)(ot,{children:[Object(v.b)("label",{htmlFor:"expenseDescription",children:"Description"}),Object(v.b)("textarea",{name:"expenseDescription",rows:"3",value:f,onChange:function(t){g(t.target.value)}})]})]}),Object(v.c)(lt,{children:[Object(v.b)(ct,{onClick:function(){return n()},children:"Cancel"}),Object(v.b)(at,{value:"Add expense"})]})]})})]})}):null},jt=Object(h.a)(N||(N=Object(O.a)(["\n\tposition: sticky;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tmargin-bottom: 80px;\n\tz-index: 5;\n"]))),Ot=Object(h.a)(z||(z=Object(O.a)(["\n\tdisplay: flex;\n\tcolumn-gap: 30px;\n\tpadding: 10px 25px;\n\tbackground: linear-gradient(\n\t\tto right bottom,\n\t\trgba(255, 255, 255, 0.7) 0%,\n\t\trgba(255, 255, 255, 0.07) 100%\n\t);\n\tbackdrop-filter: blur(20px);\n\tborder-radius: 0px 0px 10px 10px;\n\tbox-shadow: 0px 4px 16px rgba(0, 0, 0, 0.15);\n"]))),ht=function(t){var e=t.onLogout,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],o=c[1];return Object(v.c)("header",{css:jt,children:[Object(v.c)("nav",{css:Ot,children:[Object(v.b)(nt,{onClick:function(){return o(!0)},children:"Add new expense"}),Object(v.b)("button",{onClick:function(){return e()},children:"Logout"})]}),Object(v.b)(dt,{visible:r,onConfirm:function(){o(!1)},onDismiss:function(){o(!1)}})]})},xt=x.a.div(A||(A=Object(O.a)(["\n\tposition: relative;\n\tmax-width: 1280px;\n\tpadding: 0px 20px;\n\tmargin: 0 auto;\n"]))),mt=(x.a.div(E||(E=Object(O.a)([""]))),x.a.main(F||(F=Object(O.a)(["\n\twidth: 50%;\n\tpadding: 40px 40px 80px 40px;\n\tmargin-bottom: 40px;\n\tbackground: linear-gradient(\n\t\tto right bottom,\n\t\trgba(255, 255, 255, 0.7) 0%,\n\t\trgba(255, 255, 255, 0.07) 100%\n\t);\n\tbackdrop-filter: blur(20px);\n\tborder-radius: 20px;\n\n\t@media (max-width: 1240px) {\n\t\twidth: 80%;\n\t\tmargin: 0 auto;\n\t}\n\n\t@media (max-width: 780px) {\n\t\twidth: 100%;\n\t}\n"])))),ft=function(t){var e=t.children;return Object(v.b)(mt,{children:e})},gt=n(80),vt=n(79),yt=Object(h.a)(L||(L=Object(O.a)(["\n\tmargin: 40px 0;\n"]))),wt=Object(h.a)(T||(T=Object(O.a)(["\n\ttransform: translateX(10px);\n\tfont-weight: 900;\n\tmargin-bottom: 10px;\n"]))),kt=Object(h.a)(J||(J=Object(O.a)(["\n\tpadding: 10px;\n\twidth: 100%;\n\ttext-align: center;\n\tbackground: var(--col-primary);\n\tborder-radius: 100px;\n\tfont-size: 1.4rem;\n\tfont-weight: 800;\n\tbox-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);\n"]))),St=function(t){var e=t.value,n=t.className;return Object(v.c)("div",{className:n,css:yt,children:[Object(v.b)("p",{css:wt,children:"Total"}),Object(v.c)("p",{css:kt,children:[e," kn"]})]})},Ct=x.a.div(B||(B=Object(O.a)(["\n\tposition: sticky;\n\tright: 0;\n\ttop: 60px;\n\twidth: 100%;\n\tpadding: 40px 40px 80px 40px;\n\tmargin-bottom: 40px;\n\tbackground: linear-gradient(\n\t\tto right bottom,\n\t\trgba(255, 255, 255, 0.5) 0%,\n\t\trgba(255, 255, 255, 0.05) 100%\n\t);\n\tbackdrop-filter: blur(10px);\n\tborder-radius: 20px;\n"]))),Dt=function(t){var e=t.children;return Object(v.b)(Ct,{children:e})},It=x.a.div(M||(M=Object(O.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tcolumn-gap: 20px;\n\tmargin-top: 60px;\n"]))),Nt=function(t){var e=t.onSubmit,n=t.onDismiss,c=t.id,r=void 0===c?null:c,o=t.date,i=void 0===o?Date.now():o,s=t.amount,b=void 0===s?10:s,u=t.description,p=void 0===u?"":u,d=Object(a.useState)(null),j=Object(l.a)(d,2),O=j[0],h=j[1],x=Object(a.useState)(i),m=Object(l.a)(x,2),f=m[0],g=m[1],y=Object(a.useState)(b),w=Object(l.a)(y,2),k=w[0],S=w[1],C=Object(a.useState)(p),D=Object(l.a)(C,2),I=D[0],N=D[1];return Object(a.useEffect)((function(){h(r),g(i),S(b),N(p)}),[r,i,b,p]),Object(v.c)("form",{onSubmit:function(t){t.preventDefault(),e(O,f,k,I)},children:[Object(v.c)("div",{className:"form-main",children:[Object(v.c)(ot,{children:[Object(v.b)("label",{htmlFor:"expenseDate",children:"Date"}),Object(v.b)("input",{type:"date",name:"expenseDate",value:f,placeholder:"Today",onChange:function(t){return g(t.target.value)}})]}),Object(v.c)(ot,{children:[Object(v.b)("label",{htmlFor:"expenseAmount",children:"Amount"}),Object(v.b)("input",{type:"number",name:"expenseAmount",min:0,value:k,onChange:function(t){t.target.value>=0?S(t.target.value):S(0)}})]}),Object(v.c)(ot,{children:[Object(v.b)("label",{htmlFor:"expenseDescription",children:"Description"}),Object(v.b)("textarea",{name:"expenseDescription",rows:"3",value:I,onChange:function(t){N(t.target.value)}})]})]}),Object(v.c)(It,{children:[Object(v.b)(ct,{onClick:function(){return n()},children:"Cancel"}),Object(v.b)(at,{value:"Add expense"})]})]})},zt=["January","February","March","April","May","June","July","August","September","October","November","December"],At="".concat("https://meepalo-expense-tracker.herokuapp.com","/api/expenses"),Et=x.a.header(R||(R=Object(O.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin-bottom: 40px;\n\n\t"," {\n\t\tfont-size: 0.85rem;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tfont-weight: 900;\n\t}\n\n\t.monthNavigation {\n\t\tdisplay: flex;\n\t\tcolumn-gap: 30px;\n\t}\n"])),rt),Ft=x.a.main(U||(U=Object(O.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\trow-gap: 10px;\n\tmargin-top: 60px;\n"]))),Lt=x.a.div(X||(X=Object(O.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 12px 24px;\n\tbackground: var(--col-primary);\n\tborder-radius: 8px;\n\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n\n\t.expenseItemColor {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tborder-radius: 100px;\n\t}\n\n\t.expenseItemAmount {\n\t\tfont-weight: 700;\n\t}\n"]))),Tt=x.a.div(G||(G=Object(O.a)(["\n\tdisplay: flex;\n\tcolumn-gap: 10px;\n\n\tbutton {\n\t\twidth: 32px;\n\t\theight: 32px;\n\t\tborder-radius: 100px;\n\t\tbackground: #fff;\n\t\tbox-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\n\t\tdisplay: grid;\n\t\tplace-items: center;\n\t}\n"]))),Jt=x.a.div(H||(H=Object(O.a)(["\n\tposition: absolute;\n\tright: 0;\n\ttop: 40px;\n\twidth: 45%;\n\theight: 100%;\n\n\t@media (max-width: 1240px) {\n\t\tposition: relative;\n\t\twidth: 80%;\n\t\tmargin: 0 auto;\n\t}\n"]))),Bt=function(t){var e=t.user,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],o=c[1],i=Object(a.useState)(null),s=Object(l.a)(i,2),d=s[0],j=s[1],x=Object(a.useState)(0),m=Object(l.a)(x,2),f=m[0],y=m[1],w=Object(a.useState)([]),k=Object(l.a)(w,2),S=k[0],C=k[1],D=Object(a.useState)(!1),I=Object(l.a)(D,2),N=I[0],z=I[1],A=Object(a.useState)(!1),E=Object(l.a)(A,2),F=E[0],L=E[1],T=Object(a.useState)(null),J=Object(l.a)(T,2),B=J[0],M=J[1],R=Object(a.useState)(null),U=Object(l.a)(R,2),X=U[0],G=U[1],H=Object(a.useState)(null),Q=Object(l.a)(H,2),V=Q[0],W=Q[1],Z=Object(a.useState)(null),$=Object(l.a)(Z,2),tt=$[0],et=$[1],nt=Object(g.c)()[0],ct=Object(p.g)();Object(a.useEffect)(Object(u.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:at();case 1:case"end":return t.stop()}}),t)}))),[ct]);var at=function(){var t=Object(u.a)(b.a.mark((function t(){var e,n,c,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=nt.get("year"),n=nt.get("month"),null!=e&&null!=n){t.next=4;break}return t.abrupt("return");case 4:return j(e),o(n),t.next=8,fetch("".concat(At,"/").concat(e,"/").concat(n),{headers:{"x-access-token":localStorage.getItem("token")}});case 8:return c=t.sent,t.next=11,c.json();case 11:"OK"==(a=t.sent).status?(y(a.total),C(a.expenses),console.log(a.expenses)):console.log(a);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ot=function(){var t=parseInt(r)-1;return t<0?11:t},it=function(){var t=parseInt(r)+1;return t>11?0:t},st=function(){var t=Object(u.a)(b.a.mark((function t(e,n,c,a){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(At,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify({expense:{_id:e,date:n,amount:c,description:a}})});case 2:return r=t.sent,t.next=5,r.json();case 5:"OK"==t.sent.status&&at();case 7:case"end":return t.stop()}}),t)})));return function(e,n,c,a){return t.apply(this,arguments)}}(),bt=function(){var t=Object(u.a)(b.a.mark((function t(e){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(At,"/").concat(e),{method:"DELETE",headers:{"x-access-token":localStorage.getItem("token")}});case 2:return n=t.sent,t.next=5,n.json();case 5:"OK"==t.sent.status&&at();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ut=S.map((function(t){return Object(v.c)(Lt,{children:[Object(v.b)("div",{className:"expenseItemColor",css:Object(h.a)(P||(P=Object(O.a)(["\n\t\t\t\t\tbackground: ",";\n\t\t\t\t"])),"Matko"==t.user?"var(--col-matko-expense)":"var(--col-toni-expense)")}),Object(v.b)("span",{className:"expenseItemDate",children:new Date(t.date).toLocaleDateString("hr-HR")}),Object(v.b)("span",{className:"expenseItemUser",children:t.user}),Object(v.c)("span",{className:"expenseItemAmount",css:Object(h.a)(K||(K=Object(O.a)(["\n\t\t\t\t\twidth: 100px;\n\t\t\t\t"]))),children:[t.amount," kn"]}),Object(v.c)(Tt,{sameUser:e==t.user,children:[Object(v.b)("button",{onClick:function(){return function(t){G(t.date),W(t.amount),et(t.description),z(!1),L(!0)}(t)},children:Object(v.b)(vt.c,{size:22})}),Object(v.b)("button",{onClick:function(){e==t.user&&function(t){M(t._id),G(t.date),W(t.amount),et(t.description),L(!1),z(!0)}(t)},css:Object(h.a)(_||(_=Object(O.a)(["\n\t\t\t\t\t\tbackground: "," !important;\n\t\t\t\t\t"])),t.user!=e?"#BCBCBC":""),children:Object(v.b)(vt.b,{size:22})}),Object(v.b)("button",{onClick:function(){e==t.user&&bt(t._id)},css:Object(h.a)(Y||(Y=Object(O.a)(["\n\t\t\t\t\t\tbackground: "," !important;}\n\t\t\t\t\t"])),t.user!=e?"#BCBCBC":""),children:Object(v.b)(vt.a,{size:22})})]})]},t._id)}));return Object(v.c)(v.a,{children:[Object(v.c)(ft,{children:[Object(v.c)(Et,{children:[Object(v.c)(rt,{to:"/",children:[Object(v.b)(gt.a,{size:32}),Object(v.b)("span",{children:"Back to yearly expenses"})]}),Object(v.c)("div",{className:"monthNavigation",children:[Object(v.c)(rt,{to:"/monthly?year=".concat(d,"&month=").concat(ot()),children:[Object(v.b)(gt.a,{size:32}),Object(v.b)("span",{children:zt[ot()]})]}),Object(v.c)(rt,{to:"/monthly?year=".concat(d,"&month=").concat(it()),children:[Object(v.b)("span",{children:zt[it()]}),Object(v.b)(gt.a,{size:32,css:Object(h.a)(q||(q=Object(O.a)(["\n\t\t\t\t\t\t\t\t\ttransform: rotate(180deg);\n\t\t\t\t\t\t\t\t"])))})]})]})]}),Object(v.c)("h1",{children:[zt[r]," ",d," expenses"]}),Object(v.b)(St,{value:f}),Object(v.b)(Ft,{children:ut.length>0?ut:Object(v.b)("p",{children:"No expenses recorded"})})]}),Object(v.c)(Jt,{children:[N&&Object(v.c)(Dt,{children:[Object(v.b)("h2",{children:"Edit"}),Object(v.b)(Nt,{onDismiss:function(){return z(!1),void L(!1)},onSubmit:st,id:B,date:X,amount:V,description:tt})]}),F&&Object(v.b)(Dt,{children:Object(v.b)("h2",{children:"Preview"})})]})]})},Mt=n(178),Pt=n.n(Mt),Kt=(n(310),["January","February","March","April","May","June","July","August","September","October","November","December"]),_t="".concat("https://meepalo-expense-tracker.herokuapp.com","/api/expenses/2021"),Yt=Object(h.a)(W||(W=Object(O.a)(["\n\tpadding: 5px 15px;\n\tborder-radius: 100px;\n\tfont-size: 1.4rem;\n\tfont-weight: 900;\n\ttransform: translateX(-15px);\n\twidth: fit-content;\n\tbackground: var(--col-primary);\n\tmargin: 10px 0;\n\tbox-shadow: 0px 4px 16px rgba(0, 0, 0, 0.1);\n"]))),qt=x.a.div(Z||(Z=Object(O.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr;\n\tgrid-row-gap: 40px;\n\tgrid-column-gap: 40px;\n"]))),Rt=x.a.div($||($=Object(O.a)(["\n\tpadding: 10px;\n\twidth: 100%;\n\ttext-align: center;\n\tbackground: var(--col-primary);\n\tborder-radius: 100px;\n\tfont-size: 1.1rem;\n\tfont-weight: 800;\n\tbox-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);\n\tuser-select: none;\n\tcursor: pointer;\n"]))),Ut=function(){var t=Object(a.useState)(new Date),e=Object(l.a)(t,2),n=e[0],c=e[1],r=Object(a.useState)(0),o=Object(l.a)(r,2),i=o[0],s=o[1],d=Object(a.useState)(null),j=Object(l.a)(d,2),x=j[0],m=j[1],f=Object(a.useState)(Kt.map((function(t){return 0}))),g=Object(l.a)(f,2),y=g[0],w=g[1],k=Object(p.h)();Object(a.useEffect)(Object(u.a)(b.a.mark((function t(){var e,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Fetching from: "+_t),t.next=3,fetch(_t,{headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},method:"GET"});case 3:return e=t.sent,t.next=6,e.json();case 6:"OK"==(n=t.sent).status?(console.log(n),m(n.total),w(n.expenses)):console.log(n);case 8:case"end":return t.stop()}}),t)}))),[]),Object(a.useEffect)((function(){s(n.getFullYear())}),[n]);var S=Object(a.forwardRef)((function(t,e){var n=t.value,c=t.onClick;return Object(v.b)("button",{css:Yt,onClick:c,ref:e,children:n})})),C=y.map((function(t,e){return Object(v.c)("div",{children:[Object(v.b)("p",{css:Object(h.a)(Q||(Q=Object(O.a)(["\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t"]))),children:Kt[e]}),Object(v.c)(Rt,{onClick:function(){return k("/monthly?year=".concat(i,"&month=").concat(e))},children:[t.total," kn"]})]},e)}));return Object(v.b)(v.a,{children:Object(v.c)(ft,{children:[Object(v.b)("h1",{children:"Yearly expenses"}),Object(v.b)(Pt.a,{selected:n,onChange:function(t){return c(t)},showYearPicker:!0,dateFormat:"yyyy",customInput:Object(v.b)(S,{})}),Object(v.c)(qt,{children:[Object(v.b)(St,{css:Object(h.a)(V||(V=Object(O.a)(["\n\t\t\t\t\t\t\tgrid-column: 1 / span 2;\n\t\t\t\t\t\t"]))),value:x}),C]})]})})},Xt=function(t){var e=t.onLogin,n=Object(a.useState)(""),c=Object(l.a)(n,2),r=c[0],o=c[1],i=Object(a.useState)(""),s=Object(l.a)(i,2),b=s[0],u=s[1];return Object(v.c)(ft,{children:[Object(v.b)("h1",{children:"Login"}),Object(v.c)("form",{onSubmit:function(t){t.preventDefault(),e(r,b)},children:[Object(v.c)(ot,{children:[Object(v.b)("label",{htmlFor:"email",children:"Email"}),Object(v.b)("input",{type:"text",onChange:function(t){return o(t.target.value)},required:!0})]}),Object(v.c)(ot,{children:[Object(v.b)("label",{htmlFor:"password",children:"Password"}),Object(v.b)("input",{type:"password",onChange:function(t){return u(t.target.value)},required:!0})]}),Object(v.b)(at,{value:"Login"})]})]})},Gt=x.a.div(tt||(tt=Object(O.a)(["\n\tposition: relative;\n\twidth: 100%;\n"]))),Ht=n(11),Qt="".concat("https://meepalo-expense-tracker.herokuapp.com","/api/login");var Vt=function(t){return t.userLoggedIn?Object(Ht.jsx)(p.b,{}):Object(Ht.jsx)(p.a,{to:"/login"})},Wt=function(t){return t.userLoggedIn?Object(Ht.jsx)(p.a,{to:"/"}):Object(Ht.jsx)(p.b,{})},Zt=function(){var t=Object(p.g)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[t]),null},$t=function(){var t=Object(a.useState)(null),e=Object(l.a)(t,2),n=e[0],c=e[1],r=Object(a.useState)(null),o=Object(l.a)(r,2),i=o[0],s=o[1],d=Object(p.h)();Object(p.g)(),Object(a.useEffect)((function(){var t=localStorage.getItem("token");console.log(t),null!=t?(c(!0),s(j.a.decode(t).email)):h()}),[d]);var O=function(){var t=Object(u.a)(b.a.mark((function t(e,n){var a,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(Qt,{headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:n}),method:"POST"});case 2:return a=t.sent,t.next=5,a.json();case 5:"OK"==(r=t.sent).status&&(localStorage.setItem("token",r.user),c(!0),d("/"));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),h=function(){localStorage.removeItem("token"),c(!1),s(null)};return null==n?null:Object(Ht.jsxs)(xt,{children:[Object(Ht.jsx)(ht,{onLogout:h}),Object(Ht.jsx)(Zt,{}),Object(Ht.jsx)(Gt,{children:Object(Ht.jsxs)(p.e,{children:[Object(Ht.jsxs)(p.c,{exact:!0,path:"/",element:Object(Ht.jsx)(Vt,{userLoggedIn:n}),children:[Object(Ht.jsx)(p.c,{path:"/monthly",element:Object(Ht.jsx)(Bt,{user:i})}),Object(Ht.jsx)(p.c,{path:"/",element:Object(Ht.jsx)(Ut,{})})]}),Object(Ht.jsx)(p.c,{exact:!0,path:"/",element:Object(Ht.jsx)(Wt,{userLoggedIn:n}),children:Object(Ht.jsx)(p.c,{path:"/login",element:Object(Ht.jsx)(Xt,{onLogin:O})})})]})})]})};i.a.render(Object(Ht.jsx)(r.a.StrictMode,{children:Object(Ht.jsx)(g.a,{basename:"/expense-tracker",children:Object(Ht.jsx)($t,{})})}),document.getElementById("root"))}},[[357,1,2]]]);
//# sourceMappingURL=main.1b80cfa8.chunk.js.map